---
import { Card, Badge } from 'webcoreui/astro';

interface Props {
    title: string;
    description: string;
    url?: string;
    tags?: string[];
    index: number;
}

const { title, description, url, tags = [], index } = Astro.props;
---

<div class="project-card-wrapper" style={`--delay: ${index * 0.1}s`}>
    <Card className="project-card h-full flex flex-col justify-between">
        <div>
            <h3 class="project-title">
                {url ? (
                    <a href={url} target="_blank" rel="noopener noreferrer" class="hover:underline decoration-w-color-primary">
                        {title} â†—
                    </a>
                ) : (
                    title
                )}
            </h3>
            <p class="project-description">{description}</p>
        </div>
        
        {tags.length > 0 && (
            <div class="project-tags">
                {tags.map(tag => (
                    <Badge class="project-tag">{tag}</Badge>
                ))}
            </div>
        )}
    </Card>
</div>

<style>
    @reference "tailwindcss";

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .project-card-wrapper {
        height: 100%;
        animation: fadeInUp 0.5s ease-out backwards;
        animation-delay: var(--delay, 0s);
    }

    .project-card {
        padding: 1.5rem;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        border: 1px solid var(--w-color-primary-10);
    }

    .project-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 32px rgba(0, 0, 0, 0.1);
        border-color: var(--w-color-primary-20);
    }

    .project-title {
        font-size: 1.25rem;
        font-weight: 600;
        color: var(--w-color-primary);
        margin-bottom: 0.75rem;
    }

    .project-description {
        font-size: 0.9375rem;
        color: var(--w-color-primary-80);
        line-height: 1.6;
        margin-bottom: 1.5rem;
    }

    .project-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-top: auto;
    }

    .project-tag {
        font-size: 0.75rem;
        padding: 0.25rem 0.6rem;
        border-radius: 99px;
        background: var(--w-color-primary-5);
        color: var(--w-color-primary-70);
        border: 1px solid var(--w-color-primary-10);
        font-weight: 500;
    }
</style>
